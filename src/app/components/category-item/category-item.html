<li
	class="tree-item"
	[class.has-children]="hasChildren"
	[class.expanded]="item.expanded"
	[class.level-0]="level === 0"
	[class.level-1]="level === 1"
	[class.level-2]="level >= 2"
	[style.--indent.px]="level * 16"
>
	<div class="item-row d-flex align-items-center w-100" (click)="onRowClick($event)">
		@if(hasChildren){
		<i class="bi caret" [ngClass]="item.expanded ? 'bi-chevron-down' : 'bi-chevron-right'"></i>
		}
		<i class="bi type-icon" [ngClass]="item.icon || (hasChildren ? 'bi-folder' : 'bi-file-earmark')"></i>
		<span class="label flex-grow-1 text-truncate">{{ item.name }}</span>
		@if(item.count != null){
		<span class="badge-soft ms-2">{{ item.count }}</span>
		}
	</div>
	@if(hasChildren && item.expanded){
	<ul class="list-unstyled children">
		<app-category-item *ngFor="let child of item.children" [item]="child" [level]="level + 1" (select)="select.emit($event)"></app-category-item>
	</ul>
	}
</li>
